local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

-- Tạo giao diện chính
local Window = Rayfield:CreateWindow({
   Name = "Neco Lychkin's Project",
   LoadingTitle = "Neco Lychkin's Project",
   LoadingSubtitle = "By Neco",
   Theme = "Light", -- Tùy chỉnh giao diện (Light/Dark)
   ToggleUIKeybind = "K", -- Phím tắt để bật/tắt giao diện

   ConfigurationSaving = {
      Enabled = true,
      FolderName = "Pls Donate", -- Đặt tên thư mục lưu cài đặt
      FileName = "SettingPlsDonate" -- Tên file lưu cài đặt
   },

   Discord = {
      Enabled = false, -- Không sử dụng tính năng Discord
      Invite = "noinvitelink", 
      RememberJoins = true
   },

   KeySystem = false -- Không sử dụng hệ thống key
})

-- Tạo tab chính
local MainTab = Window:CreateTab("Main", 9338511167) -- Tạo tab với tiêu đề và icon

-- Biến để kiểm soát trạng thái anti-AFK
local AntiAFKEnabled = false
local AntiAFKConnection

-- Thêm toggle vào tab
MainTab:CreateToggle({
    Name = "Enable Anti-AFK",
    CurrentValue = false, -- Trạng thái mặc định (tắt)
    Flag = "AntiAFKToggle", -- Tên trạng thái (tùy chọn, nếu cần lưu)
    Callback = function(Value)
        AntiAFKEnabled = Value -- Cập nhật trạng thái toggle

        if AntiAFKEnabled then
            -- Bật Anti-AFK
            local Players = game:GetService("Players")
            local connections = getconnections or get_signal_cons or nil
            
            task.spawn(function()
                if connections then
                    for _, connection in next, connections(Players.LocalPlayer.Idled) do
                        connection:Disable()
                    end
                else
                    local VirtualUser = game:GetService("VirtualUser")
                    AntiAFKConnection = Players.LocalPlayer.Idled:Connect(function()
                        VirtualUser:CaptureController()
                        VirtualUser:ClickButton2(Vector2.new())
                    end)
                end
            end)
            
            Rayfield:Notify({
                Title = "Anti-AFK Enabled",
                Content = "You won't be kicked for being idle.",
                Duration = 5
            })
        else
            -- Tắt Anti-AFK
            if AntiAFKConnection then
                AntiAFKConnection:Disconnect()
                AntiAFKConnection = nil
            end

            Rayfield:Notify({
                Title = "Anti-AFK Disabled",
                Content = "You may now be kicked for being idle.",
                Duration = 5
            })
        end
    end
})

